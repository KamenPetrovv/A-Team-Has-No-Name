@{
    ViewBag.Title = "Home Page";
    //test changes for git desktop
}

@model List<ATHNN.Models.Post>
<section class="row">
    @{
        int counter = 0;
        foreach ( var post in Model )
        {

            <div class="row">
                <div class="post col-md-6">
                    <a href="../Posts/Details/@post.Id">
                        <h2>
                            @Html.Raw(post.Title)
                        </h2>
                    </a>
                    <div>
                        Posted on <i>@post.Date</i>
                        @if ( post.Author != null )
                        {
                            @:by <i>@post.Author.FullName <strong>(@post.Author.UserName)</strong></i>
                        }
                        else
                        {
                            @:by Anonymous
                        }

                    </div>
                    <div class="body">
                        @{
                            if ( ViewBag.PostExists[counter] )
                            {
                                <a href="../Posts/Details/@post.Id">
                                     <img src="@post.Body" alt="Sample Image" width="100%"/>
                                </a>
                            }
                            else
                            {
                                <a href="../Posts/Details/@post.Id">
                                    <img src="https://az853139.vo.msecnd.net/static/images/not-found.png" alt="Sample Image" width="100%" />
                                </a>
                            }
                        }
                    </div>
                    <hr />
                </div>
            </div>
                                counter++;
                            }
    }

</section>